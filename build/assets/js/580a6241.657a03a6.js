"use strict";(self.webpackChunkallinone=self.webpackChunkallinone||[]).push([[496],{4653:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"applications/Webdav","title":"Webdav","description":"\u4ec0\u4e48\u662fwebdav\uff1f","source":"@site/docs/applications/Webdav.md","sourceDirName":"applications","slug":"/applications/Webdav","permalink":"/docs/applications/Webdav","draft":false,"unlisted":false,"editUrl":"https://github.com/muzihuaner/all-in-one/tree/main/packages/create-docusaurus/templates/shared/docs/applications/Webdav.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Samba","permalink":"/docs/applications/Samba"},"next":{"title":"Zerotier","permalink":"/docs/applications/Zerotier"}}');var a=n(4848),d=n(8453);const s={},i="Webdav",o={},l=[{value:"\u4ec0\u4e48\u662fwebdav\uff1f",id:"\u4ec0\u4e48\u662fwebdav",level:3},{value:"\u642d\u5efa WebDAV \u670d\u52a1",id:"\u642d\u5efa-webdav-\u670d\u52a1",level:3},{value:"1.\u4e0b\u8f7d\u5230\u6307\u5b9a\u76ee\u5f55",id:"1\u4e0b\u8f7d\u5230\u6307\u5b9a\u76ee\u5f55",level:4},{value:"2.\u521b\u5efa WebDAV \u76ee\u5f55",id:"2\u521b\u5efa-webdav-\u76ee\u5f55",level:4},{value:"\u7ba1\u7406\u547d\u4ee4",id:"\u7ba1\u7406\u547d\u4ee4",level:4}];function c(e){const r={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"webdav",children:"Webdav"})}),"\n",(0,a.jsx)(r.h3,{id:"\u4ec0\u4e48\u662fwebdav",children:"\u4ec0\u4e48\u662fwebdav\uff1f"}),"\n",(0,a.jsx)(r.p,{children:"WebDAV(Web Data Transfer) \u662f\u4e00\u79cd\u7528\u4e8e\u5728 Web \u6d4f\u89c8\u5668\u548c Web \u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u7684\u534f\u8bae\u3002WebDAV \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u534f\u8bae\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u5728 Web \u6d4f\u89c8\u5668\u4e2d\u7ba1\u7406\u8ba1\u7b97\u673a\u4e0a\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u5e76\u4e14\u53ef\u4ee5\u4e0e\u4e0d\u540c\u7248\u672c\u7684 Web \u6d4f\u89c8\u5668\u8fdb\u884c\u517c\u5bb9\u6027\u3002"}),"\n",(0,a.jsx)(r.p,{children:"WebDAV \u5141\u8bb8\u7528\u6237\u901a\u8fc7 Web \u754c\u9762\u5bf9\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u8fdb\u884c\u4e0a\u4f20\u3001\u4e0b\u8f7d\u3001\u91cd\u547d\u540d\u3001\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u901a\u8fc7 HTTP \u8bf7\u6c42\u53d1\u9001\u6587\u4ef6\u3001\u8bbe\u7f6e\u6587\u4ef6\u5c5e\u6027\u7b49\u64cd\u4f5c\u3002WebDAV \u901a\u5e38\u7528\u4e8e\u5728 Web \u5e94\u7528\u7a0b\u5e8f\u4e2d\u7ba1\u7406\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u4f8b\u5982\u5728 Web \u670d\u52a1\u5668\u4e0a\u521b\u5efa\u3001\u7f16\u8f91\u3001\u5b58\u50a8\u548c\u4f20\u8f93\u6587\u4ef6\u3002"}),"\n",(0,a.jsx)(r.p,{children:"WebDAV \u4e5f\u652f\u6301\u8fdc\u7a0b\u6587\u4ef6\u8bbf\u95ee\uff0c\u8fd9\u610f\u5473\u7740\u7528\u6237\u53ef\u4ee5\u5728 Web \u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fdc\u7a0b\u8ba1\u7b97\u673a\u4e0a\u7684\u6587\u4ef6\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 Web \u754c\u9762\u8fdb\u884c\u7f16\u8f91\u548c\u5b58\u50a8\u3002WebDAV \u534f\u8bae\u7684\u4f7f\u7528\u4f7f\u5f97\u5728 Web \u6d4f\u89c8\u5668\u4e2d\u7ba1\u7406\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u548c\u7075\u6d3b\u3002"}),"\n",(0,a.jsx)(r.h3,{id:"\u642d\u5efa-webdav-\u670d\u52a1",children:"\u642d\u5efa WebDAV \u670d\u52a1"}),"\n",(0,a.jsxs)(r.p,{children:["\u8fd9\u91cc\u7528\u5230\u4e86 ",(0,a.jsx)(r.a,{href:"https://github.com/hacdias/webdav",children:"Simple Go WebDAV server"})," \u9879\u76ee"]}),"\n",(0,a.jsx)(r.h4,{id:"1\u4e0b\u8f7d\u5230\u6307\u5b9a\u76ee\u5f55",children:"1.\u4e0b\u8f7d\u5230\u6307\u5b9a\u76ee\u5f55"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"wget https://github.com/hacdias/webdav/releases/download/v4.2.0/linux-amd64-webdav.tar.gz\r\ntar -xvzf linux-amd64-webdav.tar.gz \r\nmv webdav /usr/bin/webdav \r\nrm -rf linux-amd64-webdav.tar.gz\r\n\n"})}),"\n",(0,a.jsx)(r.h4,{id:"2\u521b\u5efa-webdav-\u76ee\u5f55",children:"2.\u521b\u5efa WebDAV \u76ee\u5f55"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"mkdir -p /root/webdav\n"})}),"\n",(0,a.jsx)(r.p,{children:"####3.\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"vim webdav.yaml\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5199\u5165\u4e0b\u9762\u7684\u5185\u5bb9"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"# Server related settings\r\naddress: 0.0.0.0\r\nport: 8080 #\u4f60\u8981\u6307\u5b9a\u7684\u7aef\u53e3\u6bd4\u59828080\r\nauth: true\r\ntls: false\r\ncert: cert.pem\r\nkey: key.pem\r\nprefix: /\r\ndebug: false\r\n\r\n# Default user settings (will be merged)\r\nscope: .\r\nmodify: true\r\nrules: []\r\n\r\n# CORS configuration\r\ncors:\r\n  enabled: true\r\n  credentials: true\r\n  allowed_headers:\r\n    - Depth\r\n  allowed_hosts:\r\n    - http://localhost:8080 #\u8fd9\u91cc\u8981\u548c\u524d\u9762\u4e00\u6837\r\n  allowed_methods:\r\n    - GET\r\n  exposed_headers:\r\n    - Content-Length\r\n    - Content-Range\r\n\r\nusers:\r\n  - username: admin\r\n    password: admin\r\n    scope: /root/webdav #\u4f60\u8981\u653e\u6587\u4ef6\u7684\u76ee\u5f55\r\n\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u8fd9\u91cc\u8bbe\u7f6e\u7684\u7aef\u53e3\u662f 68080\uff0c\u8d26\u53f7\u5bc6\u7801\u5747\u4e3a admin\uff0cWebDAV \u76ee\u5f55\u662f /root/webdav/ \u53ef\u81ea\u884c\u66f4\u6539\r\n####4.\u521b\u5efa Systemd \u81ea\u542f\u670d\u52a1"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"vim /usr/lib/systemd/system/webdav.service\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5199\u5165"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"[Unit]\r\nDescription=WebDAV server\r\nAfter=network.target\r\n\r\n[Service]\r\nType=simple\r\nUser=root\r\nExecStart=/usr/bin/webdav --config /root/webdav.yaml #\u8fd9\u91cc\u6539\u6210\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\r\nRestart=on-failure\r\n\r\n[Install]\r\nWantedBy=multi-user.target\n"})}),"\n",(0,a.jsx)(r.h4,{id:"\u7ba1\u7406\u547d\u4ee4",children:"\u7ba1\u7406\u547d\u4ee4"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"systemctl daemon-reload\r\nsystemctl start webdav\r\nsystemctl enable webdav\r\nsystemctl status webdav\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5f53\u4f7f\u7528 Nginx \u6216 Apache \u7b49\u53cd\u5411\u4ee3\u7406\u65f6\uff0c\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u5b57\u6bb5\u4ee5\u907f\u514d\u5bfc\u81f4 502 \u9519\u8bef"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"location / {\r\n        proxy_pass http://127.0.0.1:8080;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header REMOTE-HOST $remote_addr;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n        proxy_set_header Host $http_host;\r\n        proxy_redirect off;\r\n    }\n"})})]})}function p(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>i});var t=n(6540);const a={},d=t.createContext(a);function s(e){const r=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(d.Provider,{value:r},e.children)}}}]);