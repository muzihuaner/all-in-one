"use strict";(self.webpackChunkallinone=self.webpackChunkallinone||[]).push([[9044],{2231:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"applications/wireguard","title":"WireGuard","description":"WireGuard\u662f\u4e00\u6b3e\u6781\u5176\u7b80\u5355\u4f46\u5feb\u901f\u4e14\u73b0\u4ee3\u7684 VPN\uff0c\u5b83\u91c7\u7528\u4e86\u52a0\u5bc6\u6280\u672f\u3002\u5b83\u65e8\u5728\u6bd4IPsec\u66f4\u5feb\u3001\u66f4\u7b80\u5355\u3001\u66f4\u7cbe\u7b80\u3001\u66f4\u5b9e\u7528\uff0c\u540c\u65f6\u907f\u514d\u5927\u91cf\u9ebb\u70e6\u3002\u5b83\u65e8\u5728\u6bd4 OpenVPN \u6027\u80fd\u66f4\u9ad8\u3002WireGuard \u88ab\u8bbe\u8ba1\u4e3a\u901a\u7528 VPN\uff0c\u53ef\u5728\u5d4c\u5165\u5f0f\u63a5\u53e3\u548c\u8d85\u7ea7\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\uff0c\u9002\u7528\u4e8e\u8bb8\u591a\u4e0d\u540c\u60c5\u51b5\u3002\u5b83\u6700\u521d\u662f\u4e3a Linux \u5185\u6838\u53d1\u5e03\u7684\uff0c\u73b0\u5728\u5df2\u8de8\u5e73\u53f0\uff08Windows\u3001macOS\u3001BSD\u3001iOS\u3001Android\uff09\u5e76\u53ef\u5e7f\u6cdb\u90e8\u7f72\u3002\u5b83\u76ee\u524d\u6b63\u5728\u5927\u529b\u5f00\u53d1\u4e2d\uff0c\u4f46\u5b83\u53ef\u80fd\u5df2\u7ecf\u88ab\u89c6\u4e3a\u4e1a\u5185\u6700\u5b89\u5168\u3001\u6700\u6613\u4e8e\u4f7f\u7528\u548c\u6700\u7b80\u5355\u7684 VPN \u89e3\u51b3\u65b9\u6848\u3002","source":"@site/docs/applications/wireguard.md","sourceDirName":"applications","slug":"/applications/wireguard","permalink":"/docs/applications/wireguard","draft":false,"unlisted":false,"editUrl":"https://github.com/muzihuaner/all-in-one/tree/main/packages/create-docusaurus/templates/shared/docs/applications/wireguard.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"tailscale","permalink":"/docs/applications/tailscale"},"next":{"title":"\u641e\u673a-\u6280\u5de7&\u95ee\u9898","permalink":"/docs/category/\u641e\u673a-\u6280\u5de7\u95ee\u9898"}}');var i=n(4848),a=n(8453);const t={},c="WireGuard",s={},l=[{value:"docker-compose",id:"docker-compose",level:3},{value:"docker cli",id:"docker-cli",level:3}];function d(r){const e={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...r.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"wireguard",children:"WireGuard"})}),"\n",(0,i.jsx)(e.p,{children:"WireGuard\u662f\u4e00\u6b3e\u6781\u5176\u7b80\u5355\u4f46\u5feb\u901f\u4e14\u73b0\u4ee3\u7684 VPN\uff0c\u5b83\u91c7\u7528\u4e86\u52a0\u5bc6\u6280\u672f\u3002\u5b83\u65e8\u5728\u6bd4IPsec\u66f4\u5feb\u3001\u66f4\u7b80\u5355\u3001\u66f4\u7cbe\u7b80\u3001\u66f4\u5b9e\u7528\uff0c\u540c\u65f6\u907f\u514d\u5927\u91cf\u9ebb\u70e6\u3002\u5b83\u65e8\u5728\u6bd4 OpenVPN \u6027\u80fd\u66f4\u9ad8\u3002WireGuard \u88ab\u8bbe\u8ba1\u4e3a\u901a\u7528 VPN\uff0c\u53ef\u5728\u5d4c\u5165\u5f0f\u63a5\u53e3\u548c\u8d85\u7ea7\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\uff0c\u9002\u7528\u4e8e\u8bb8\u591a\u4e0d\u540c\u60c5\u51b5\u3002\u5b83\u6700\u521d\u662f\u4e3a Linux \u5185\u6838\u53d1\u5e03\u7684\uff0c\u73b0\u5728\u5df2\u8de8\u5e73\u53f0\uff08Windows\u3001macOS\u3001BSD\u3001iOS\u3001Android\uff09\u5e76\u53ef\u5e7f\u6cdb\u90e8\u7f72\u3002\u5b83\u76ee\u524d\u6b63\u5728\u5927\u529b\u5f00\u53d1\u4e2d\uff0c\u4f46\u5b83\u53ef\u80fd\u5df2\u7ecf\u88ab\u89c6\u4e3a\u4e1a\u5185\u6700\u5b89\u5168\u3001\u6700\u6613\u4e8e\u4f7f\u7528\u548c\u6700\u7b80\u5355\u7684 VPN \u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u5b98\u65b9\u7f51\u7ad9\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://www.wireguard.com/",children:"https://www.wireguard.com/"})}),"\n",(0,i.jsx)(e.h3,{id:"docker-compose",children:"docker-compose"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"---\r\nservices:\r\n  wireguard:\r\n    image: lscr.io/linuxserver/wireguard:latest\r\n    container_name: wireguard\r\n    cap_add:\r\n      - NET_ADMIN\r\n      - SYS_MODULE #optional\r\n    environment:\r\n      - PUID=1000\r\n      - PGID=1000\r\n      - TZ=Etc/UTC\r\n      - SERVERURL=wireguard.domain.com #optional\r\n      - SERVERPORT=51820 #optional\r\n      - PEERS=1 #optional\r\n      - PEERDNS=auto #optional\r\n      - INTERNAL_SUBNET=10.13.13.0 #optional\r\n      - ALLOWEDIPS=0.0.0.0/0 #optional\r\n      - PERSISTENTKEEPALIVE_PEERS= #optional\r\n      - LOG_CONFS=true #optional\r\n    volumes:\r\n      - /path/to/wireguard/config:/config\r\n      - /lib/modules:/lib/modules #optional\r\n    ports:\r\n      - 51820:51820/udp\r\n    sysctls:\r\n      - net.ipv4.conf.all.src_valid_mark=1\r\n    restart: unless-stopped\n"})}),"\n",(0,i.jsx)(e.h3,{id:"docker-cli",children:"docker cli"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'docker run -d \\\r\n  --name=wireguard \\\r\n  --cap-add=NET_ADMIN \\\r\n  --cap-add=SYS_MODULE `#optional` \\\r\n  -e PUID=1000 \\\r\n  -e PGID=1000 \\\r\n  -e TZ=Etc/UTC \\\r\n  -e SERVERURL=wireguard.domain.com `#optional` \\\r\n  -e SERVERPORT=51820 `#optional` \\\r\n  -e PEERS=1 `#optional` \\\r\n  -e PEERDNS=auto `#optional` \\\r\n  -e INTERNAL_SUBNET=10.13.13.0 `#optional` \\\r\n  -e ALLOWEDIPS=0.0.0.0/0 `#optional` \\\r\n  -e PERSISTENTKEEPALIVE_PEERS= `#optional` \\\r\n  -e LOG_CONFS=true `#optional` \\\r\n  -p 51820:51820/udp \\\r\n  -v /path/to/wireguard/config:/config \\\r\n  -v /lib/modules:/lib/modules `#optional` \\\r\n  --sysctl="net.ipv4.conf.all.src_valid_mark=1" \\\r\n  --restart unless-stopped \\\r\n  lscr.io/linuxserver/wireguard:latest\n'})})]})}function p(r={}){const{wrapper:e}={...(0,a.R)(),...r.components};return e?(0,i.jsx)(e,{...r,children:(0,i.jsx)(d,{...r})}):d(r)}},8453:(r,e,n)=>{n.d(e,{R:()=>t,x:()=>c});var o=n(6540);const i={},a=o.createContext(i);function t(r){const e=o.useContext(a);return o.useMemo((function(){return"function"==typeof r?r(e):{...e,...r}}),[e,r])}function c(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:t(r.components),o.createElement(a.Provider,{value:e},r.children)}}}]);